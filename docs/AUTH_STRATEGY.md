# –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è VK Dating - –°—Ç—Ä–∞—Ç–µ–≥–∏—è

## –¢–µ–∫—É—â–∏–π —Å—Ç–∞—Ç—É—Å: MVP

### MVP –ø–æ–¥—Ö–æ–¥ (—Å–µ–π—á–∞—Å)

–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –∏—Å–ø–æ–ª—å–∑—É–µ–º **—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–¥–∞—á—É —Å–µ—Å—Å–∏–∏**:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  MVP Flow                                       ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –≤ VK –≤ –±—Ä–∞—É–∑–µ—Ä–µ   ‚îÇ
‚îÇ  2. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç cookies (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è + —É—Ç–∏–ª–∏—Ç–∞) ‚îÇ
‚îÇ  3. –ó–∞–≥—Ä—É–∂–∞–µ—Ç cookies –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç         ‚îÇ
‚îÇ  4. –í–æ—Ä–∫–µ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–∏ cookies               ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–î–ª—è Private Match (—ç–ª–∏—Ç):** –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –≤—Å—ë –∑–∞ –∫–ª–∏–µ–Ω—Ç–∞.

### –ö–∞–∫ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å cookies (–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —é–∑–µ—Ä–∞)

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ "EditThisCookie" –∏–ª–∏ "Cookie-Editor"
2. –ó–∞–π—Ç–∏ –Ω–∞ vk.com, –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞—Ç—å—Å—è
3. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å cookies –≤ JSON
4. –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –≤ –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç DatePilot

### Cookies –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω—ã

```
remixsid     - –æ—Å–Ω–æ–≤–Ω–∞—è —Å–µ—Å—Å–∏—è VK
remixnsid    - –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è
remixlang    - —è–∑—ã–∫ (0 = —Ä—É—Å—Å–∫–∏–π)
```

---

## –ë—É–¥—É—â–µ–µ: –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ (v2.0)

> ‚ö†Ô∏è TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ MVP

### –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ DatePilot                           ‚îÇ
‚îÇ                                                 ‚îÇ
‚îÇ  1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ       ‚îÇ
‚îÇ  2. –ê–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è –Ω–∞ vk.com –∫–∞–∫ –æ–±—ã—á–Ω–æ           ‚îÇ
‚îÇ  3. –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç     ‚îÇ
‚îÇ     cookies —Å –Ω–∞—à–∏–º —Å–µ—Ä–≤–µ—Ä–æ–º                    ‚îÇ
‚îÇ  4. –ü—Ä–∏ –∏—Å—Ç–µ—á–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏ - –∞–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ v2.0

| –ê—Å–ø–µ–∫—Ç | MVP | –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ v2.0 |
|--------|-----|-----------------|
| –°–ª–æ–∂–Ω–æ—Å—Ç—å –¥–ª—è —é–∑–µ—Ä–∞ | –í—ã—Å–æ–∫–∞—è | –ù–∏–∑–∫–∞—è |
| –ö–æ–Ω–≤–µ—Ä—Å–∏—è | ~10% | ~60% |
| –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏ | –ù–µ—Ç | –î–∞ |
| –î–æ–≤–µ—Ä–∏–µ —é–∑–µ—Ä–∞ | –°—Ä–µ–¥–Ω–µ–µ | –í—ã—Å–æ–∫–æ–µ |

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Chrome Extension‚îÇ     ‚îÇ  API Server     ‚îÇ     ‚îÇ  Worker         ‚îÇ
‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ     ‚îÇ                 ‚îÇ
‚îÇ  - –°–ª—É—à–∞–µ—Ç      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  POST /cookies  ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∂‚îÇ  Playwright     ‚îÇ
‚îÇ    cookies VK   ‚îÇ     ‚îÇ                 ‚îÇ     ‚îÇ  + cookies      ‚îÇ
‚îÇ  - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç   ‚îÇ     ‚îÇ  - –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ   ‚îÇ     ‚îÇ                 ‚îÇ
‚îÇ    –Ω–∞ —Å–µ—Ä–≤–µ—Ä    ‚îÇ     ‚îÇ  - –•—Ä–∞–Ω–µ–Ω–∏–µ     ‚îÇ     ‚îÇ                 ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –§–∞–π–ª—ã —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (–ø–ª–∞–Ω)

```
extension/
‚îú‚îÄ‚îÄ manifest.json
‚îú‚îÄ‚îÄ background.js      # Service worker, —Å–ª—É—à–∞–µ—Ç cookies
‚îú‚îÄ‚îÄ popup.html         # UI —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ popup.js           # –õ–æ–≥–∏–∫–∞ popup
‚îî‚îÄ‚îÄ icons/
    ‚îú‚îÄ‚îÄ icon16.png
    ‚îú‚îÄ‚îÄ icon48.png
    ‚îî‚îÄ‚îÄ icon128.png
```

### –ö–ª—é—á–µ–≤–æ–π –∫–æ–¥ (–¥—Ä–∞—Ñ—Ç)

```javascript
// background.js
chrome.cookies.onChanged.addListener((changeInfo) => {
  if (changeInfo.cookie.domain.includes('vk.com')) {
    if (['remixsid', 'remixnsid'].includes(changeInfo.cookie.name)) {
      syncCookiesToServer(changeInfo.cookie);
    }
  }
});

async function syncCookiesToServer(cookie) {
  const userId = await getUserId(); // –∏–∑ localStorage —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
  await fetch('https://api.datepilot.ru/cookies', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ userId, cookie })
  });
}
```

---

## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ —Å–µ–≥–º–µ–Ω—Ç–∞–º

| –°–µ–≥–º–µ–Ω—Ç | MVP | v2.0 |
|---------|-----|------|
| **DatePilot** (–º–∞—Å—Å) | –†—É—á–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç cookies | –ë—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ |
| **Private Match** (—ç–ª–∏—Ç) | –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç | –ú–µ–Ω–µ–¥–∂–µ—Ä + —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ |

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –•—Ä–∞–Ω–µ–Ω–∏–µ cookies

```python
# –®–∏—Ñ—Ä—É–µ–º cookies –ø–µ—Ä–µ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î
from cryptography.fernet import Fernet

def encrypt_cookies(cookies: dict, key: bytes) -> str:
    f = Fernet(key)
    return f.encrypt(json.dumps(cookies).encode()).decode()

def decrypt_cookies(encrypted: str, key: bytes) -> dict:
    f = Fernet(key)
    return json.loads(f.decrypt(encrypted.encode()))
```

### –†–æ—Ç–∞—Ü–∏—è —Å–µ—Å—Å–∏–π

- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å cookies –∫–∞–∂–¥—ã–µ 6 —á–∞—Å–æ–≤
- –ü—Ä–∏ 401/403 ‚Äî —É–≤–µ–¥–æ–º–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–µ—Ä–µ–ª–æ–≥–∏–Ω–∞
- –õ–æ–≥–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ VK –¥–ª—è –∞—É–¥–∏—Ç–∞

---

## –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

| –†–∏—Å–∫ | –í–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å | –ú–∏—Ç–∏–≥–∞—Ü–∏—è |
|------|-------------|-----------|
| VK –±–∞–Ω–∏—Ç –ø–æ cookies | –°—Ä–µ–¥–Ω—è—è | –†–æ—Ç–∞—Ü–∏—è IP, —á–µ–ª–æ–≤–µ–∫–æ–ø–æ–¥–æ–±–Ω—ã–µ –∑–∞–¥–µ—Ä–∂–∫–∏ |
| –Æ–∑–µ—Ä –Ω–µ —Å–ø—Ä–∞–≤–∏—Ç—Å—è —Å —ç–∫—Å–ø–æ—Ä—Ç–æ–º | –í—ã—Å–æ–∫–∞—è | –í–∏–¥–µ–æ-–∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è, –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |
| Cookies –∏—Å—Ç–µ–∫–∞—é—Ç | –í—ã—Å–æ–∫–∞—è | –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –≤ v2.0 |
| –£—Ç–µ—á–∫–∞ cookies | –ù–∏–∑–∫–∞—è | –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ, –∞—É–¥–∏—Ç –¥–æ—Å—Ç—É–ø–∞ |

---

## –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

1. ‚úÖ **MVP** ‚Äî —Ä—É—á–Ω–æ–π —ç–∫—Å–ø–æ—Ä—Ç cookies + –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è
2. üî≤ **v1.5** ‚Äî —É—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–≤—Ç–æ—ç–∫—Å–ø–æ—Ä—Ç–∞ (—Å–∫—Ä–∏–ø—Ç –≤ –∫–æ–Ω—Å–æ–ª–∏)
3. üî≤ **v2.0** ‚Äî –±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
4. üî≤ **v3.0** ‚Äî –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (–µ—Å–ª–∏ VK –Ω–µ –∑–∞–∫—Ä–æ–µ—Ç)
